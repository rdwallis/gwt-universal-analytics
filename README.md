gwt-universal-analytics
=======================

A gwt wrapper for Google Universal Analytics

The code is generated directly from the api by https://github.com/rdwallis/gwt-universal-analytics-generator and then cleaned up so it should support the entire api, except for extensions like ExtendedEcommerce and tasks.

##Install

Checkout this project, and then run mvn install

Add the following to your pom

```
	  <dependency>
			<groupId>com.wallissoftware</groupId>
			<artifactId>gwt-universal-analytics</artifactId>
			<version>1.0-SNAPSHOT</version>
		</dependency>
```

Add the following to your gwt.xml

```
	<inherits name="com.wallissoftware.universalanalytics.UniversalAnalytics"/>
```

Then in your gin module:
```
install(new UniversalAnalyticsModule.Builder("UA-XXXXXXXX-X").build());
```

##Advanced Install

By default UniversalAnalyticsModule.Builder will automatically create a tracker for you.

If you want to set up your tracker manually (eg because you want to use plugins) call:

```
install(new UniversalAnalyticsModule.Builder("UA-XXXXXXXX-X").autoCreate(false).build());
```

Then in your entry point or bootstrapper(GWTP) call the following:

```
analytics.create().go();
analytics.enablePlugin(AnalyticsPlugin.DISPLAY); //Provides demographics information.
```

##Basic Usage

Inject UniversalAnalytics into the class you want to track events from.

*REMEBER TO CALL GO()*

UniversalAnalytics uses a version of the builder pattern where you call the type of tracking method you want, then chain the options you need to the call followed by go().

eg:
```
analytics.sendPageView().go(); //track a pageview
analytics.sendPageView().DocumentPath("/foo").go(); //track a pageview for page /foo
```

If you want to change the global settings call setGlobalSettings in the same way. 
```
analytics.setGlobalSettings().AnonymizeIp(true).go(); //anonymize ips
```

##TODO

Server side calls are not yet supported but should be easy to add using the autogenerated ServerOptionsCallback class.

I may add server calls if I find I need them, otherwise feel free to send me a pull request.



